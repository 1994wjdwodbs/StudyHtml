<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Interest</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="css/init.css">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="css/designes.css">
    <link rel="stylesheet" href="css/section.css">
    <link rel="stylesheet" href="css/lightbox.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/masonry.pkgd.min.js"></script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
    <script src="js/jquery.autocomplete.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        // 풀다운 메뉴 (풀다운 메뉴 적용)
        $(document).ready(function() { // 로드 이벤트
            $(".outer-menu").hover
            (function() {
                // $(".inner-menu").css("display", "block");
                // 마우스 이벤트가 발생한 특정 inner-menu 클래스 선택
                $(this).find(".inner-menu").css("display", "block");
                
            }, 
            function() {
                $(this).find(".inner-menu").css("display", "none");
            });
        });

        // 페이지 (그리드 레이아웃 적용)
        $(document).ready(function() {
            //이미지 로드 확인 후 Masonry 플러그인 적용
            $("#main-section").imagesLoaded(function() {


                $("#main-section").masonry({
                    itemSelector: ".paper",
                    columnWidth: 230,
                    isAnimated: true
                });
            });

           
        });

        // 라이트박스
        $(document).ready(function() {
            function showLightBox() {
                // console.log($(document).scrollTop());
                $("#lightbox").css("top", $(document).scrollTop());

                // 라이트박스 보여주는 애니메이션
                $("#darken-background").css({display:"block", "top":"0px"}).animate({
                    width:$(document).width(),
                    height:$(document).height()
                }, 500);
                // 라이트박스 설정
                
                // $("#darken-background").css("top", $(window).scrollTop());
                // 스크롤 방지
                // $("body").css("overflow", "hidden");
                
                // 랜덤 이미지 섞기
                /*
                $("#random-image").attr({
                    src: function() {
                        var rnd_height = Math.floor(Math.random() * 100) + 600;
                        return "https://placekitten.com/600/" + rnd_height.toString();
                    }
                })*/
            }

            function hideLightBox() {
                // 라이트박스 숨기는 애니메이션
                $("#darken-background").animate({
                    height:"0%"
				}, 500);
                
                // 스크롤 정상 작동
                // $("body").css("overflow", "auto");
            }

            // 클릭 이벤트 
            $(".paper").click(function() {

                // 일부 없애기
                var papers =$(".paper");
                for(let i = 0; i < 10; i++)
                    $(papers[i]).show();

                $("#main-section").masonry({
                    itemSelector: ".paper",
                    columnWidth: 230,
                    isAnimated: true
                });

                // console.log($("#random-image").attr("src"));
                // console.log($(this).find(".himg").attr("src"));
                
                // 클릭한 사진으로 팝업
                $("#random-image").attr("src", $(this).find(".himg").attr("src").toString());

                //라이트박스 크기 조절
                $("#lightbox").attr("width", $(window).width()/2);
                $("#lightbox").attr("height", $(window).height()/2);

                console.log($("#lightbox").attr("width"));
                console.log($("#lightbox").attr("height"));

                // 라이트박스 내 이미지 크기 조절
                $("#random-image").css({
                    "width":$(window).width()/4,
                    "height":$(window).height()/4
                });
                
                showLightBox();
            });

            // 바깥 여백(검정색 배경) 클릭 이벤트
            $("#darken-background").click(function() {
                hideLightBox();
            });
            // 라이트박스 제거 이벤트 보조
            $("#lightbox").click(function (event) {
                event.stopPropagation();
            });
        });
        
        // 프로젝트 개량 : 내 폴더 이미지 갤러리 (Jallery)
        
        $(document).ready(function() {
            // submit 클릭 이벤트 읽어오기

            
            // images 목록 불러오기 및 필터링
            // Check for the various File API support.
            // if (window.File && window.FileReader && window.FileList && window.Blob) {
            // Great success! All the File APIs are supported.
            // console.log("ok");
            // } else {
            // alert('The File APIs are not fully supported in this browser.');
            // }

            $("#file-select").click(function() { 
                console.log("test");
                
            });
            $("#file-select").change(function() {
                
                var fileInput = $("#file-select");
                var files = fileInput[0].files;
               //  console.log(files);
                var array = [];

                for(let i = 0; i < files.length; i++) {
                    // localize file var in the loop
                    array[i] = files[i].webkitRelativePath;
                    
                    console.log(array[i]);
                }
                alert($('input.input-search').val());
                console.log(array);
                $('input.input-search').autocomplete({source: array});
                
                // 일부 없애기
                var papers =$(".paper");
                for(let i = 0; i < 10; i++)
                    $(papers[i]).hide();

                $("#main-section").masonry({
                    itemSelector: ".paper",
                    columnWidth: 230,
                    isAnimated: true
                });
                
            });

        });

        // image와 제목 따로 따로 붙이기
        // jpg, png 아이콘 붙이기
        // 팝업 open, close 애니메이션
        // 팝업 시 프린트, 링크 복사 아이콘 추가하기
        // ...
        // Jallery 타이틀 만들기
        // 다른사람 레이아웃, 색상 영감 받고 적용하기

        // 랜덤 이미지 주기
        // 랜덤 색상 주기
        $(document).ready(function() {
            
            var himg = $(".himg");
            var random_num;
            for(let i = 0; i < 20; i++) {
                random_num = 200 + Math.floor(Math.random() * 101);
                $(himg[i]).attr("src", 
                "http://placekitten.com/190/" + random_num.toString());

                var p_content =$(".paper-content");
                var colorR = Math.floor((Math.random() * 256));
                var colorG = Math.floor((Math.random() * 256));
                var colorB = Math.floor((Math.random() * 256));   
                $(p_content[i]).css("background-color", "rgb(" + colorR + "," + colorG + "," + colorB + ")");
            }            
        });
    </script>
</head>

<body>
    <header id="main-header">

        <div class="ui-widget header-search-form">
            <form>
                <input type="text" class="input-search">
                <input type="file" class="input-search-submit" 
                id="file-select" webkitdirectory multiple>
            </form>
        </div>

        <h1 class="header-title">Interest</h1>

        <div class="header-menu">

            <ul class="outer-menu">
                <li>
                    <a href="#">정보</a>
                    <ul class="inner-menu">
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                    </ul>
                </li>
            </ul>

            <ul class="outer-menu">
                <li>
                    <a href="#">사용자</a>
                    <ul class="inner-menu">
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                        <li><a href="#">데이터</a></li>
                    </ul>
                </li>
            </ul>

        </div>

    </header>

    <nav id="main-navigation">

        <ul>
            <li><a href="#">Following</a></li>
            <li><a href="#">Categories</a></li>
            <li><a href="#">Everything</a></li>
            <li><a href="#">Popular</a></li>
            <li><a href="#">Gift</a></li>
        </ul>

    </nav>

    <section id="main-section">
        <!-- 페이퍼 시작 -->
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/328"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/290"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/200"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/215"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/256"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/182"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/176"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/316"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/186"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/249"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/324"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/305"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/180"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/273"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/188"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/230"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/192"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/317"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/326"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Rem, sequi blanditiis quod aliquid maiores dicta explicabo doloribus iste reiciendis quaerat voluptate, aspernatur sint beatae delectus tempore quo est ipsum eos!</p>
            </div>

        </div>
        <div class="paper">

            <div class="paper-holder">
                <a><img class="himg" width="190" src="http://placekitten.com/190/258"></a>
            </div>
            <p class="paper-description">
                Lorem ipsum dolor sit amet
            </p>

            <div class="paper-content">
                <a class="paper-link" href="#">
                    <img src="http://placekitten.com/30/30">
                </a>
                <p class="paper-text">Lorem ipsum dolor sit amet!</p>
            </div>

        </div>
        <!-- 페이퍼 끝 -->
    </section>

    <div id="darken-background">
        <div id="lightbox">
            <div class="user-information">

                <a class="user-information-image" href="#">
                    <img src="http://placekitten.com/70/70">
                </a>
                
                <div class="user-information-text">
                    <h3>User</h3>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>

            </div>
            
            <hr class="lightbox-splitter">

            <img id="random-image" src="http://placekitten.com/600/750">
        </div>
    </div>

    <footer id="main-footer">

    </footer>
</body>
</html>